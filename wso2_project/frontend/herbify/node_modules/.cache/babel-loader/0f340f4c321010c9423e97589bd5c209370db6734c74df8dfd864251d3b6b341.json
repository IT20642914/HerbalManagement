{"ast":null,"code":"import axios from \"axios\";\nimport swal from \"sweetalert\";\nimport { BASE_URL, HERBIFY_USER_TOKEN } from './AppConstant';\nexport default function MasterAPI() {\n  let nonApi = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n  let user_token = localStorage.getItem(HERBIFY_USER_TOKEN);\n  const masterAPI = axios.create({\n    baseURL: `${BASE_URL}${nonApi ? \"\" : \"/api\"}`,\n    timeout: 5000,\n    headers: {\n      Authorization: `Bearer ${user_token}`,\n      \"Content-Type\": \"application/json\"\n    }\n  });\n  masterAPI.interceptors.response.use(response => response, error => {\n    if (error.response) {\n      if (error.response.status === 401) {\n        swal(\"User must be Logged In to access protected content\");\n      } else if (error.response.status === 403) {\n        swal({\n          title: \"403: You do not have permision for the requested content.\",\n          text: \"You either tried some shady route or you came here by mistake. Whichever it is, try using the navigation, if you think this is an mistake please refresh or try log in again.\",\n          icon: \"error\"\n        });\n      } else if (error.response.status === 404) {\n        swal({\n          title: \"404!\",\n          text: \"Page requested not found\",\n          icon: \"error\"\n        });\n        return Promise.reject(error);\n      } else if (error.response.status === 419) {\n        swal(\"Unexpected error 419: Refresh the webpage and try again\");\n      } else if (error.response.status === 422) {\n        return Promise.reject(error);\n      } else if (error.response.status === 423) {\n        return Promise.reject(error);\n      } else if (error.response.status === 500) {\n        if (error.response.data.message) swal(error.response.data.message);else swal(error);\n        return Promise.reject(error);\n      } else {\n        swal(error);\n        return Promise.reject(error);\n      }\n    } else {\n      swal(error);\n      return Promise.reject(error);\n    }\n    return Promise.reject(error);\n  });\n}\n_c = MasterAPI;\nvar _c;\n$RefreshReg$(_c, \"MasterAPI\");","map":{"version":3,"names":["axios","swal","BASE_URL","HERBIFY_USER_TOKEN","MasterAPI","nonApi","arguments","length","undefined","user_token","localStorage","getItem","masterAPI","create","baseURL","timeout","headers","Authorization","interceptors","response","use","error","status","title","text","icon","Promise","reject","data","message","_c","$RefreshReg$"],"sources":["C:/3.2/projects/HerbalManagement/wso2_project/frontend/herbify/src/utill/Api.js"],"sourcesContent":["import axios from \"axios\";\r\nimport swal from \"sweetalert\";\r\nimport {BASE_URL, HERBIFY_USER_TOKEN} from './AppConstant';\r\n\r\nexport default function MasterAPI(nonApi = true){\r\n    let user_token = localStorage.getItem(HERBIFY_USER_TOKEN);\r\n\r\n    const masterAPI = axios.create({\r\n        baseURL : `${BASE_URL}${nonApi ? \"\" : \"/api\"}`,\r\n        timeout : 5000,\r\n        headers: {\r\n            Authorization: `Bearer ${user_token}`,\r\n            \"Content-Type\": \"application/json\",\r\n          },\r\n    });\r\n\r\n    masterAPI.interceptors.response.use(\r\n        (response) => response,\r\n        (error) => {\r\n            if (error.response) {\r\n                if (error.response.status === 401) {\r\n                  swal(\"User must be Logged In to access protected content\");\r\n                } else if (error.response.status === 403) {\r\n                  swal({\r\n                    title: \"403: You do not have permision for the requested content.\",\r\n                    text:\r\n                      \"You either tried some shady route or you came here by mistake. Whichever it is, try using the navigation, if you think this is an mistake please refresh or try log in again.\",\r\n                    icon: \"error\",\r\n                  });\r\n                } else if (error.response.status === 404) {\r\n                  swal({\r\n                    title: \"404!\",\r\n                    text: \"Page requested not found\",\r\n                    icon: \"error\",\r\n                  });\r\n                  return Promise.reject(error);\r\n                } else if (error.response.status === 419) {\r\n                  swal(\"Unexpected error 419: Refresh the webpage and try again\");\r\n                } else if (error.response.status === 422) {\r\n                  return Promise.reject(error);\r\n                } else if (error.response.status === 423) {\r\n                  return Promise.reject(error);\r\n                } else if (error.response.status === 500) {\r\n                  if (error.response.data.message) swal(error.response.data.message);\r\n                  else swal(error);\r\n                  return Promise.reject(error);\r\n                } else {\r\n                  swal(error);\r\n                  return Promise.reject(error);\r\n                }\r\n              } else {\r\n                swal(error);\r\n                return Promise.reject(error);\r\n              }\r\n              return Promise.reject(error);\r\n        }\r\n    );\r\n}"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,OAAOC,IAAI,MAAM,YAAY;AAC7B,SAAQC,QAAQ,EAAEC,kBAAkB,QAAO,eAAe;AAE1D,eAAe,SAASC,SAASA,CAAA,EAAe;EAAA,IAAdC,MAAM,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAG,IAAI;EAC3C,IAAIG,UAAU,GAAGC,YAAY,CAACC,OAAO,CAACR,kBAAkB,CAAC;EAEzD,MAAMS,SAAS,GAAGZ,KAAK,CAACa,MAAM,CAAC;IAC3BC,OAAO,EAAI,GAAEZ,QAAS,GAAEG,MAAM,GAAG,EAAE,GAAG,MAAO,EAAC;IAC9CU,OAAO,EAAG,IAAI;IACdC,OAAO,EAAE;MACLC,aAAa,EAAG,UAASR,UAAW,EAAC;MACrC,cAAc,EAAE;IAClB;EACN,CAAC,CAAC;EAEFG,SAAS,CAACM,YAAY,CAACC,QAAQ,CAACC,GAAG,CAC9BD,QAAQ,IAAKA,QAAQ,EACrBE,KAAK,IAAK;IACP,IAAIA,KAAK,CAACF,QAAQ,EAAE;MAChB,IAAIE,KAAK,CAACF,QAAQ,CAACG,MAAM,KAAK,GAAG,EAAE;QACjCrB,IAAI,CAAC,oDAAoD,CAAC;MAC5D,CAAC,MAAM,IAAIoB,KAAK,CAACF,QAAQ,CAACG,MAAM,KAAK,GAAG,EAAE;QACxCrB,IAAI,CAAC;UACHsB,KAAK,EAAE,2DAA2D;UAClEC,IAAI,EACF,+KAA+K;UACjLC,IAAI,EAAE;QACR,CAAC,CAAC;MACJ,CAAC,MAAM,IAAIJ,KAAK,CAACF,QAAQ,CAACG,MAAM,KAAK,GAAG,EAAE;QACxCrB,IAAI,CAAC;UACHsB,KAAK,EAAE,MAAM;UACbC,IAAI,EAAE,0BAA0B;UAChCC,IAAI,EAAE;QACR,CAAC,CAAC;QACF,OAAOC,OAAO,CAACC,MAAM,CAACN,KAAK,CAAC;MAC9B,CAAC,MAAM,IAAIA,KAAK,CAACF,QAAQ,CAACG,MAAM,KAAK,GAAG,EAAE;QACxCrB,IAAI,CAAC,yDAAyD,CAAC;MACjE,CAAC,MAAM,IAAIoB,KAAK,CAACF,QAAQ,CAACG,MAAM,KAAK,GAAG,EAAE;QACxC,OAAOI,OAAO,CAACC,MAAM,CAACN,KAAK,CAAC;MAC9B,CAAC,MAAM,IAAIA,KAAK,CAACF,QAAQ,CAACG,MAAM,KAAK,GAAG,EAAE;QACxC,OAAOI,OAAO,CAACC,MAAM,CAACN,KAAK,CAAC;MAC9B,CAAC,MAAM,IAAIA,KAAK,CAACF,QAAQ,CAACG,MAAM,KAAK,GAAG,EAAE;QACxC,IAAID,KAAK,CAACF,QAAQ,CAACS,IAAI,CAACC,OAAO,EAAE5B,IAAI,CAACoB,KAAK,CAACF,QAAQ,CAACS,IAAI,CAACC,OAAO,CAAC,CAAC,KAC9D5B,IAAI,CAACoB,KAAK,CAAC;QAChB,OAAOK,OAAO,CAACC,MAAM,CAACN,KAAK,CAAC;MAC9B,CAAC,MAAM;QACLpB,IAAI,CAACoB,KAAK,CAAC;QACX,OAAOK,OAAO,CAACC,MAAM,CAACN,KAAK,CAAC;MAC9B;IACF,CAAC,MAAM;MACLpB,IAAI,CAACoB,KAAK,CAAC;MACX,OAAOK,OAAO,CAACC,MAAM,CAACN,KAAK,CAAC;IAC9B;IACA,OAAOK,OAAO,CAACC,MAAM,CAACN,KAAK,CAAC;EAClC,CAAC,CACJ;AACL;AAACS,EAAA,GArDuB1B,SAAS;AAAA,IAAA0B,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}